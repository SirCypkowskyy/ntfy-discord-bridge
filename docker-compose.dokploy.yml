services:
  ntfy-discord-bridge:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: ntfy-discord-bridge
    restart: unless-stopped
    environment:
      # Set DB_PATH to match the mounted volume path
      DB_PATH: /app/data/bridge.db
      # LOG_LEVEL: INFO  # Uncomment and customize if needed
    volumes:
      - ../files/ntfy-discord-bridge:/app/data
    # Expose as needed if providing an HTTP API or admin, otherwise can be omitted
    # ports:
    #   - "8080:8080"
    command: ["sh", "-c", "exec /app/.venv/bin/python main.py"]
